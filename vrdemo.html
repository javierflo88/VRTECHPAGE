<!DOCTYPE html>
<html>

<head>
    <title>VR Tech</title>
    <meta name="description" content="https://i.imgur.com/o8wVZBT.png">
    <!-- aframe library -->
    <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
    <!-- 3dio library. distributed via 'npm run dist' in https://github.com/archilogic-com/3dio-js -->
    <script src="https://3d.io/releases/3dio-js/1.x.x/3dio.min.js"></script>
    <link href="https://storage-nocdn.3d.io/app-creator-templates/default.css" rel="stylesheet">
    <script src="https://unpkg.com/aframe-animation-component/dist/aframe-animation-component.min.js"></script>
    <!--Styling the minimap-->
    <style>
        #floorplan-wrapper {
            user-select: none;
            position: fixed;
            top: 5%;
            right: 5%;
            padding: 0;
            z-index: 1000;
            width: 250px;
            height: 250px;
        }
        
        @media only screen and (max-width: 800px) {
            #floorplan-wrapper {
                width: 100px;
                height: 100px;
            }
        }
        
        img#floorplan {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            float: right;
        }
        
        #floorplan-camera-icon {
            width: 50px;
            width: 50px;
            position: absolute;
            transition-property: right, top;
            transition-duration: 0.5s, 0.5s;
        }
    </style>
</head>

<body>
    <!-- MiniMap -->
    <div id="floorplan-wrapper" class="overlay">
        <img id="floorplan" src="https://storage.3d.io/535e624259ee6b0200000484/2017-10-17_19-15-14_nk68JW/floorplan.jpg">
        <img id="floorplan-camera-icon" src="https://storage.3d.io/5a4fdff6-a40b-403d-817c-802305866599/2017-10-20_07-02-25_gZXVvm/navicon.png">
    </div>
    <!-- io3d identifier -->
    <io3d-app id="MFu2mC" scene-id="abe33c4d-03e8-4d04-83d1-ab4e16743036"></io3d-app>
    <!-- ui -->
    <div id="custom-logo" style="width:50px">
        <a href="images/logo.png" target="_blank">
            <img src="/images/logo2.png">
        </a>
    </div>
    <div class="camera-controls">
        <div class="waypoints">
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="afd09d80-52aa-4653-ada2-7c7a86b77f67">Arriba</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="f68840e8-8f7e-4b5e-9d34-264774a67460">Vista</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="795faf2a-3d02-4122-84bd-d057462f80da">Pasillo</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="4287e27a-671f-4c35-aa63-ca8e674cd6b8">Cuarto</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="b8b41f7b-a7a4-453a-a066-6cbf836b8803">Bar</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="cf01cab5-73a7-4521-b6d0-bdcc55a604d1">Cocina</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="a9912abf-3613-4b33-8c3b-c6f04790f8e2">Sala 1 </button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="5375d7f6-f214-441a-b5f6-095b49250e3d">Salon 2</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="29492ca6-96f2-4a46-b8d9-b8649bc4180f">Ba√±o</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="e8b8c519-4414-46c4-b7e8-61cccd9d1f23">Vista Arriba</button>
            <button class="btn-waypoint" onclick="document.querySelector('[camera]').components['tour'].goTo(this.dataset.waypointId)" data-waypoint-id="aa645424-0f1c-4974-8c20-53ad9f77e16b">Vista</button>
            <button class="btn-toggle-play" onclick="this.classList.contains('playing') ? document.querySelector('[camera]').components['tour'].pauseTour() : document.querySelector('[camera]').components['tour'].playTour(), this.classList.toggle('playing')">
        </button>
        </div>
        <div class="camera-mode" style="display:none">
            <div class="btn camera active" onclick="document.querySelector('.waypoints').classList.toggle('hide'), this.classList.toggle('active')">
            </div>
            <div class="btn bird" id="btn-bird" onclick="document.querySelector('[camera]').components['tour'].updateViewPoint({position:{y:7}, rotation:{x:-60}}), document.querySelector('#btn-person').classList.remove('active'), this.classList.add('active')">
            </div>
            <div class="btn person active" id="btn-person" onclick="document.querySelector('[camera]').components['tour'].updateViewPoint({position:{y:1.6}, rotation:{x:0}}), document.querySelector('#btn-bird').classList.remove('active'), this.classList.add('active')">
            </div>
        </div>
    </div>
    <!-- 3d scene -->
    <a-scene class="fullscreen">
        <a-entity camera tour="autoStart: true" wasd-controls look-controls position="-8.63241676763491 1.654736886045699 2.85387460856602" rotation="0 637.1631515151513 0">
            <a-entity tour-waypoint="Top" io3d-uuid="afd09d80-52aa-4653-ada2-7c7a86b77f67" position="-7.062331439827951 11.091384479008408 -0.4470912971178591" rotation="-89 630 0"></a-entity>
            <a-entity tour-waypoint="Perspective" io3d-uuid="f68840e8-8f7e-4b5e-9d34-264774a67460" position="-14.117650973965459 12.388166892583516 -5.631058831124277" rotation="-58.52813852813858 591.6883116883115 0"></a-entity>
            <a-entity tour-waypoint="Hallway" io3d-uuid="795faf2a-3d02-4122-84bd-d057462f80da" position="-9.599132436038229 1.4519497089510565 -2.3510238434824586" rotation="0 568.1109610389608 0"></a-entity>
            <a-entity tour-waypoint="Bedroom" io3d-uuid="4287e27a-671f-4c35-aa63-ca8e674cd6b8" position="-8.79082260319921 1.37 -0.18202637207733116" rotation="0 489.09090909090884 0"></a-entity>
            <a-entity tour-waypoint="Bar" io3d-uuid="b8b41f7b-a7a4-453a-a066-6cbf836b8803" position="-8.63241676763491 1.654736886045699 2.8538746085660205" rotation="0 637.1631515151513 0"></a-entity>
            <a-entity tour-waypoint="Kitchen" io3d-uuid="cf01cab5-73a7-4521-b6d0-bdcc55a604d1" position="-4.2218996290346675 1.654736886045699 3.1766511029222366" rotation="0 409.63068398268376 0"></a-entity>
            <a-entity tour-waypoint="Work" io3d-uuid="a9912abf-3613-4b33-8c3b-c6f04790f8e2" position="-2.626520752179499 1.4532572292240002 2.09424695939594" rotation="2.4891774891774885 370.34496969696954 0"></a-entity>
            <a-entity tour-waypoint="Living" io3d-uuid="5375d7f6-f214-441a-b5f6-095b49250e3d" position="-4.9460776708559715 1.453691536003211 0.8671884831111247" rotation="0 689.9770043290041 0"></a-entity>
            <a-entity tour-waypoint="Bath" io3d-uuid="29492ca6-96f2-4a46-b8d9-b8649bc4180f" position="-4.664880978737893 8 -1.6410553232675535" rotation="-76.53679653679654 429.803844155844 0"></a-entity>
            <a-entity tour-waypoint="Top" io3d-uuid="e8b8c519-4414-46c4-b7e8-61cccd9d1f23" position="-7.062331439827951 11.091384479008408 -0.4470912971178591" rotation="-89 630 0"></a-entity>
            <a-entity tour-waypoint="Top" io3d-uuid="aa645424-0f1c-4974-8c20-53ad9f77e16b" position="-7.062331439827951 11.091384479008408 -0.4470912971178591" rotation="-89 630 0"></a-entity>
        </a-entity>
        <a-sky color="#140F37"></a-sky>
        <a-entity position="-6.080855307214579 0 0" rotation="0 180 0" io3d-uuid="abe33c4d-03e8-4d04-83d1-ab4e16743036" class="io3d-scene">
            <a-entity position="0 0 0" rotation="0 0 0" io3d-uuid="c4d919b3-7e4e-40b8-bc48-28c0334be4b2">
                <a-entity io3d-data3d="key: /3f995099-d624-4c8e-ab6b-1fd5e3799173/170515-0913-4p3ktf/1e588a3b-90ac-4a32-b5b8-ff2fda7f87c4.gz.data3d.buffer" shadow="cast: true; receive: true" position="0 0 0" rotation="0 0 0" io3d-uuid="06db5233-8913-4599-9d26-a3a943097acf"></a-entity>
            </a-entity>
        </a-entity>
    </a-scene>
</body>
<!-- Minimap Script -->
<script src="https://cdn.rawgit.com/archilogic-com/aframe-floorplan/47a8a620/floorplan.js"></script>
<script>
    /* BEGIN customize values here */
    var minPos = {
        x: -8.5,
        z: 0
    }
    var maxPos = {
        x: 9.3,
        z: 10
    }
    /* END customize values here */
    initFloorplan(minPos, maxPos)
</script>

</html>